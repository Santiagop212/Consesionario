name: Test_M

on:
  push:
    branches:
      - main  

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout c√≥digo
      uses: actions/checkout@v2

    - name: Iniciar Docker
      run: docker login -u ${{ secrets.DOCKER_USERNAME }} -p ${{ secrets.DOCKER_PASSWORD }}

    - name: Construir imagen Docker
      run: docker build -t main_produccion .

    - name: Etiquetar imagen Docker
      run: docker tag main_produccion santiago725/consesionario:latest

    - name: Empujar imagen Docker a Docker Hub
      run: docker push santiago725/consesionario:latest
